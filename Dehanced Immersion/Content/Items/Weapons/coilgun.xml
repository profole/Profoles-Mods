<?xml version="1.0" encoding="utf-8"?>
<Items>
  <Override>
    <Item name="" identifier="coilgunloader" tags="coilgunequipment,coilgunammosource,turretammosource,coilgunammoloader" category="Machine,Weapon" linkable="true" allowedlinks="coilgun" scale="0.5" damagedbyexplosions="true" explosiondamagemultiplier="0.2">
      <Upgrade gameversion="0.14.7.0" rectwidth="82" rectheight="176" itempos="82,-270" />
      <SwappableItem canbebought="false" origin="82,352" spawnwithid="coilgunammobox" />
      <UpgradePreviewSprite texture="Content/UI/WeaponUI.png" sourcerect="208,968,32,46" origin="0.5,0.5" />
      <Sprite name="Coilgun Loader Front" texture="Content/Items/Weapons/Loaders.png" depth="0.78" sourcerect="855,10,165,352" origin="0.5,0.5" />
      <BrokenSprite texture="Content/Items/Weapons/Loaders.png" sourcerect="163,563,153,351" origin="0.5,0.5" offset="6,3" depth="0.77" fadein="true" maxcondition="99" />
      <DecorativeSprite name="Coilgun Loader Frame Front" texture="Content/Items/Weapons/Loaders.png" depth="0.8" sourcerect="31,569,117,200" origin="0.5,0.5" offset="0,-68" />
      <DecorativeSprite name="Ammobelt" texture="Content/Items/Containers/containers.png" depth="0.79" sourcerect="499,663,52,142" origin="0.5,0.5" offset="0,12">
        <IsActiveConditional targetcontaineditem="true" condition="gt 0.0" />
      </DecorativeSprite>
      <Repairable selectkey="Action" header="mechanicalrepairsheader" deteriorationspeed="10" mindeteriorationdelay="60" maxdeteriorationdelay="300" MinDeteriorationCondition="0" RepairThreshold="50" fixDurationHighSkill="5" fixDurationLowSkill="25" msg="ItemMsgRepairWrench" hudpriority="10">
        <StatusEffect type="InWater" target="This" condition="-0.25" />
        <GuiFrame relativesize="0.2,0.16" minsize="400,180" maxsize="480,280" anchor="Center" relativeoffset="-0.1,0.27" style="ItemUI" />
        <RequiredSkill identifier="mechanical" level="55" />
        <RequiredItem items="wrench" type="Equipped" />
        <ParticleEmitter particle="damagebubbles" particlespersecond="2" scalemin="0.5" scalemax="1.5" anglemax="360" velocitymin="-10" velocitymax="10" mincondition="0.0" maxcondition="50.0" />
        <ParticleEmitter particle="smoke" particlespersecond="2" scalemin="1" scalemax="2.5" anglemax="360" velocitymin="-50" velocitymax="50" mincondition="15.0" maxcondition="50.0" />
        <ParticleEmitter particle="heavysmoke" particlespersecond="2" scalemin="1.0" scalemax="2.5" anglemax="360" distancemax="60" mincondition="0.0" maxcondition="15.0" />
        <StatusEffect type="OnFailure" target="Character" targetlimbs="LeftHand,RightHand" AllowWhenBroken="true">
          <Sound file="Content/Items/MechanicalRepairFail.ogg" range="1000" />
          <Affliction identifier="lacerations" strength="5" />
          <Affliction identifier="stun" strength="4" />
        </StatusEffect>
      </Repairable>
      <ItemContainer hideitems="false" drawinventory="true" capacity="1" maxstacksize="1" slotsperrow="6" itempos="82,-270" iteminterval="0,0" itemrotation="0" canbeselected="true" msg="ItemMsgInteractSelect" containedspritedepth="0.79">
        <GuiFrame relativesize="0.18,0.23" anchor="Center" minsize="140,170" maxsize="280,280" style="ItemUI" />
        <Containable items="coilgunammo" />
        <!-- when the coilgun is fired, it triggers this statuseffect, causing contained ammunition boxes to spawn new ammo -->
        <StatusEffect type="OnUse" target="Contained">
          <RequiredItem items="coilgunammo" type="Contained" />
          <Use />
        </StatusEffect>
        <StatusEffect type="OnPicked" target="this">
          <Sound file="%ModDir%/Content/Items/Containers/loader_open1.ogg" volume="1.5" range="250" selectionmode="Random" />
        </StatusEffect>
      </ItemContainer>
      <ConnectionPanel selectkey="Action" canbeselected="true" msg="ItemMsgRewireScrewdriver" hudpriority="10">
        <StatusEffect type="OnPicked" target="this">
          <Sound file="%ModDir%/Content/Items/Electricity/junctionbox_interact.ogg" volume="1" range="300" />
        </StatusEffect>
        <GuiFrame relativesize="0.2,0.32" minsize="400,350" maxsize="480,420" anchor="Center" style="ConnectionPanel" />
        <RequiredItem items="screwdriver" type="Equipped" />
        <output name="condition_out" displayname="connection.conditionout" />
        <output name="contained_conditions" displayname="connection.ammunitionout" />
      </ConnectionPanel>
      <LightComponent lightcolor="219,0,36,150" castshadows="false" range="0.0" IsOn="true" powerconsumption="0" alphablend="true" allowingameediting="false">
        <sprite texture="Content/Items/Weapons/Loaders.png" sourcerect="348,921,25,27" origin="1.685,-4.79" alpha="1.0" />
        <IsActiveConditional targetcontaineditem="true" conditionpercentage="gt 0" />
      </LightComponent>
      <LightComponent lightcolor="255,170,1,150" castshadows="false" range="0.0" IsOn="true" powerconsumption="0" alphablend="true" allowingameediting="false">
        <sprite texture="Content/Items/Weapons/Loaders.png" sourcerect="348,921,25,27" origin="1.135,-4.79" alpha="1.0" />
        <IsActiveConditional targetcontaineditem="true" conditionpercentage="gt 20" />
      </LightComponent>
      <LightComponent lightcolor="246,210,2,150" castshadows="false" range="0.0" IsOn="true" powerconsumption="0" alphablend="true" allowingameediting="false">
        <sprite texture="Content/Items/Weapons/Loaders.png" sourcerect="348,921,25,27" origin="0.585,-4.79" alpha="1.0" />
        <IsActiveConditional targetcontaineditem="true" conditionpercentage="gt 40" />
      </LightComponent>
      <LightComponent lightcolor="252,230,150" castshadows="false" range="0.0" IsOn="true" powerconsumption="0" alphablend="true" allowingameediting="false">
        <sprite texture="Content/Items/Weapons/Loaders.png" sourcerect="348,921,25,27" origin="0.035,-4.79" alpha="1.0" />
        <IsActiveConditional targetcontaineditem="true" conditionpercentage="gt 60" />
      </LightComponent>
      <LightComponent lightcolor="185,214,0,150" castshadows="false" range="0.0" IsOn="true" powerconsumption="0" alphablend="true" allowingameediting="false">
        <sprite texture="Content/Items/Weapons/Loaders.png" sourcerect="348,921,25,27" origin="-0.515,-4.79" alpha="1.0" />
        <IsActiveConditional targetcontaineditem="true" conditionpercentage="gt 80" />
      </LightComponent>
      <LightComponent lightcolor="79,184,0,150" castshadows="false" range="0.0" IsOn="true" powerconsumption="0" alphablend="true" allowingameediting="false">
        <sprite texture="Content/Items/Weapons/Loaders.png" sourcerect="348,921,25,27" origin="-1.065,-4.79" alpha="1.0" />
        <IsActiveConditional targetcontaineditem="true" conditionpercentage="gte 100" />
      </LightComponent>
    </Item>
  </Override>
</Items>